# Method :: [POST]/Users/Authorization

## Назначение:

Авторизация пользователя в системе

## Входные данные:

### Тело запроса:

```json
{
    "Login": "Cat", //Логин -- Required
    "Password" : "jaLalka145" //Пароль -- Required
}
```

## Выходные данные:
```json
"string": //Сессия пользователя
```

## Пример вызова:

```bash
curl -L -X POST 'http://38.135.55.111:5000/Users/auth' \
-H 'Content-Type: application/json' \
-d '{
    "Login": "8355",
    "password": "42343324"
}
```

## Пример ответа:

#### Статус код:
```bash
200
```

#### Тело ответа:

```bash
"f6360d84-4a16-430d-a5eb-e54d01bca697"
```

## Алгоритм:

1. Проверить заполнение обязательных полей. Если поля не заполнены - вернуть BadRequest(400)
2. Проверить существование пользователя по введенному логину. Если пользователь не найден - вернуть BadRequest(400).
3. Проверить валидность введенного пароля, путем сравнения его с хэшем в базе. Если проверка не пройдена - вернуть BadRequest(400).
4. Получить из базы последнюю существующую сессию.
   4.1 Если сессия найдена, то деактивировать все сессии пользователя, переключив у них признак isActive в состояние false.
5. Создать запись с новой сессией для пользователя в БД.
6. Вернуть созданный guid сессии пользователя со статусом ОК(200).